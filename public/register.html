<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Bamenda Pharmacy Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        accent: {
                            50: '#fef7ff',
                            100: '#fce7ff',
                            200: '#f8d4fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'slide-in-left': 'slideInLeft 0.5s ease-out',
                        'slide-in-right': 'slideInRight 0.5s ease-out',
                        'fade-in-up': 'fadeInUp 0.6s ease-out',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        slideInLeft: {
                            '0%': { transform: 'translateX(-100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        slideInRight: {
                            '0%': { transform: 'translateX(100%)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        },
                        fadeInUp: {
                            '0%': { transform: 'translateY(30px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .bg-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, #22c55e 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, #d946ef 0%, transparent 50%);
        }
        .card-shadow {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-primary-50 via-white to-accent-50 relative overflow-x-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 bg-pattern opacity-5"></div>
    
    <!-- Floating Elements -->
    <div class="absolute top-20 left-10 w-20 h-20 bg-primary-200 rounded-full opacity-20 animate-float"></div>
    <div class="absolute top-40 right-20 w-16 h-16 bg-accent-200 rounded-full opacity-20 animate-float" style="animation-delay: -2s;"></div>
    <div class="absolute bottom-20 left-1/4 w-12 h-12 bg-primary-300 rounded-full opacity-20 animate-float" style="animation-delay: -4s;"></div>
    
    <!-- Header -->
    <header class="relative z-10 py-6">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-hospital text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-secondary-800">Bamenda Pharmacy</h1>
                        <p class="text-sm text-secondary-500">Healthcare Platform</p>
                    </div>
                </div>
                <a href="/" class="text-secondary-600 hover:text-primary-600 transition-colors flex items-center space-x-2">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back to Home</span>
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <!-- Back to Home Link -->
            <div class="text-center mb-8">
                <a href="/home.html" class="inline-flex items-center text-primary-600 hover:text-primary-700 transition-colors font-medium">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Back to Home
                </a>
            </div>

            <!-- Page Title -->
            <div class="text-center mb-12 animate-fade-in-up">
                <h2 class="text-4xl md:text-5xl font-bold text-secondary-800 mb-4">
                    Join Our Platform
                </h2>
                <p class="text-xl text-secondary-600 max-w-2xl mx-auto">
                    Choose your role to get started with Geopharm
                </p>
            </div>

            <!-- Role Selection -->
            <div id="roleSelection" class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-8 mb-12">
                    <div class="bg-white rounded-3xl card-shadow p-8 border border-gray-100 text-center cursor-pointer hover:border-primary-300 transition-all duration-200" onclick="selectRole('client')">
                        <div class="w-20 h-20 bg-gradient-to-r from-primary-100 to-primary-200 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-user text-primary-600 text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-secondary-800 mb-4">I'm a Client</h3>
                        <p class="text-secondary-600 mb-6">Looking for medications and pharmacy services</p>
                        <div class="bg-primary-50 rounded-xl p-4">
                            <p class="text-sm text-primary-700 font-medium">✓ Search for medications</p>
                            <p class="text-sm text-primary-700 font-medium">✓ Find nearby pharmacies</p>
                            <p class="text-sm text-primary-700 font-medium">✓ Chat with pharmacists</p>
                        </div>
                    </div>

                    <div class="bg-white rounded-3xl card-shadow p-8 border border-gray-100 text-center cursor-pointer hover:border-accent-300 transition-all duration-200" onclick="selectRole('pharmacist')">
                        <div class="w-20 h-20 bg-gradient-to-r from-accent-100 to-accent-200 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-user-md text-accent-600 text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-secondary-800 mb-4">I'm a Pharmacist</h3>
                        <p class="text-secondary-600 mb-6">Managing my pharmacy and serving clients</p>
                        <div class="bg-accent-50 rounded-xl p-4">
                            <p class="text-sm text-accent-700 font-medium">✓ Manage inventory</p>
                            <p class="text-sm text-accent-700 font-medium">✓ Connect with clients</p>
                            <p class="text-sm text-accent-700 font-medium">✓ Track sales & analytics</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Registration Forms -->
            <div id="registrationForms" class="hidden max-w-4xl mx-auto">
                <!-- Back to Role Selection -->
                <div class="text-center mb-8">
                    <button onclick="showRoleSelection()" class="inline-flex items-center text-secondary-600 hover:text-secondary-700 transition-colors font-medium">
                        <i class="fas fa-arrow-left mr-2"></i>
                        Change Role
                    </button>
                </div>
                <!-- Client Registration Form -->
                <div id="clientForm" class="hidden bg-white rounded-3xl card-shadow p-8 border border-gray-100">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-primary-100 to-primary-200 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-user text-primary-600 text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-secondary-800 mb-2">Client Registration</h3>
                        <p class="text-secondary-600">Complete your profile to access pharmacy services</p>
                    </div>

                    <form id="clientRegistrationForm" class="space-y-6">
                        <!-- Personal Information -->
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Personal Information</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">First Name</label>
                                    <input type="text" name="firstName" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Last Name</label>
                                    <input type="text" name="lastName" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mt-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Date of Birth</label>
                                    <input type="date" name="dateOfBirth" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Gender</label>
                                    <select name="gender" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                        <option value="">Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Contact Information -->
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Contact Information</h4>
                            <div>
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Email Address</label>
                                <input type="email" name="email" required 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Phone Number</label>
                                <input type="tel" name="phone" required placeholder="+237 6XX XXX XXX"
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Address</label>
                                <textarea name="address" rows="2" required placeholder="Your address in Bamenda"
                                          class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all resize-none"></textarea>
                            </div>
                        </div>

                        <!-- Medical Information -->
                        <div class="bg-red-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Medical Information</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Blood Group</label>
                                    <select name="bloodGroup" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                        <option value="">Select Blood Group</option>
                                        <option value="A+">A+</option>
                                        <option value="A-">A-</option>
                                        <option value="B+">B+</option>
                                        <option value="B-">B-</option>
                                        <option value="AB+">AB+</option>
                                        <option value="AB-">AB-</option>
                                        <option value="O+">O+</option>
                                        <option value="O-">O-</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Weight (kg)</label>
                                    <input type="number" name="weight" placeholder="70" 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Known Allergies</label>
                                <textarea name="allergies" rows="2" placeholder="List any drug allergies or medical conditions (e.g., Penicillin, Aspirin, etc.)"
                                          class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all resize-none"></textarea>
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Current Medications</label>
                                <textarea name="currentMedications" rows="2" placeholder="List any medications you're currently taking"
                                          class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all resize-none"></textarea>
                            </div>
                        </div>

                        <!-- Account Security -->
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Account Security</h4>
                            <div>
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Password</label>
                                <input type="password" name="password" required 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Confirm Password</label>
                                <input type="password" name="confirmPassword" required 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all">
                            </div>
                        </div>

                        <button type="submit" class="w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white py-4 px-6 rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-semibold text-lg">
                            <i class="fas fa-user-plus mr-2"></i>
                            Complete Client Registration
                        </button>
                    </form>
                </div>

                <!-- Pharmacist Registration Form -->
                <div id="pharmacistForm" class="hidden bg-white rounded-3xl card-shadow p-8 border border-gray-100">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-accent-100 to-accent-200 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-user-md text-accent-600 text-3xl"></i>
                        </div>
                        <h3 class="text-2xl font-bold text-secondary-800 mb-2">Pharmacist Registration</h3>
                        <p class="text-secondary-600">Register your pharmacy and professional credentials</p>
                    </div>

                    <form id="pharmacistRegistrationForm" class="space-y-6">
                        <!-- Personal Information -->
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Personal Information</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">First Name</label>
                                    <input type="text" name="firstName" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Last Name</label>
                                    <input type="text" name="lastName" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mt-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Email Address</label>
                                    <input type="email" name="email" required 
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Phone Number</label>
                                    <input type="tel" name="phone" required placeholder="+237 6XX XXX XXX"
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                            </div>
                        </div>

                        <!-- Professional Credentials -->
                        <div class="bg-purple-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Professional Credentials</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Pharmacy License Number</label>
                                    <input type="text" name="licenseNumber" required placeholder="e.g., PH/2024/001"
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Years of Experience</label>
                                    <select name="experience" required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                        <option value="">Select Experience</option>
                                        <option value="0-2">0-2 years</option>
                                        <option value="3-5">3-5 years</option>
                                        <option value="6-10">6-10 years</option>
                                        <option value="10+">10+ years</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Professional Qualifications</label>
                                <textarea name="qualifications" rows="2" placeholder="e.g., PharmD, BSc Pharmacy, specialized certifications"
                                          class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all resize-none"></textarea>
                            </div>
                        </div>

                        <!-- Pharmacy Information -->
                        <div class="bg-accent-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Pharmacy Information</h4>
                            <div>
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Pharmacy Name</label>
                                <input type="text" name="pharmacyName" required placeholder="e.g., Central Pharmacy Bamenda"
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Pharmacy Address</label>
                                <textarea name="pharmacyAddress" rows="2" required placeholder="Complete address in Bamenda"
                                          class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all resize-none"></textarea>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mt-4">
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Pharmacy Phone</label>
                                    <input type="tel" name="pharmacyPhone" required placeholder="+237 6XX XXX XXX"
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-secondary-700 mb-2">Operating Hours</label>
                                    <input type="text" name="operatingHours" placeholder="e.g., 8:00 AM - 8:00 PM"
                                           class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Services Offered</label>
                                <div class="grid grid-cols-2 gap-2 mt-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" name="services[]" value="prescription" class="mr-2 text-accent-600">
                                        <span class="text-sm">Prescription Drugs</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="services[]" value="otc" class="mr-2 text-accent-600">
                                        <span class="text-sm">Over-the-Counter</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="services[]" value="consultation" class="mr-2 text-accent-600">
                                        <span class="text-sm">Consultation</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="services[]" value="delivery" class="mr-2 text-accent-600">
                                        <span class="text-sm">Home Delivery</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Account Security -->
                        <div class="bg-gray-50 rounded-xl p-6">
                            <h4 class="text-lg font-bold text-secondary-800 mb-4">Account Security</h4>
                            <div>
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Password</label>
                                <input type="password" name="password" required 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                            </div>
                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-secondary-700 mb-2">Confirm Password</label>
                                <input type="password" name="confirmPassword" required 
                                       class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent-500 focus:border-accent-500 transition-all">
                            </div>
                        </div>

                        <button type="submit" class="w-full bg-gradient-to-r from-accent-500 to-accent-600 text-white py-4 px-6 rounded-xl hover:from-accent-600 hover:to-accent-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 font-semibold text-lg">
                            <i class="fas fa-user-md mr-2"></i>
                            Complete Pharmacist Registration
                        </button>
                    </form>
                </div>
            </div>

            <!-- Login Link -->
            <div class="text-center mt-12">
                <p class="text-secondary-600">
                    Already have an account? 
                    <a href="/login.html" class="text-primary-600 hover:text-primary-700 font-semibold transition-colors">
                        Sign in here
                    </a>
                </p>
            </div>
        </div>
    </main>

    <!-- Success/Error Messages -->
    <div id="messageContainer" class="fixed top-4 right-4 z-50"></div>

    <script>
        let selectedRole = null;

        // Role selection functions
        function selectRole(role) {
            selectedRole = role;
            document.getElementById('roleSelection').classList.add('hidden');
            document.getElementById('registrationForms').classList.remove('hidden');
            
            if (role === 'client') {
                document.getElementById('clientForm').classList.remove('hidden');
                document.getElementById('pharmacistForm').classList.add('hidden');
            } else {
                document.getElementById('pharmacistForm').classList.remove('hidden');
                document.getElementById('clientForm').classList.add('hidden');
            }
        }

        function showRoleSelection() {
            document.getElementById('roleSelection').classList.remove('hidden');
            document.getElementById('registrationForms').classList.add('hidden');
            document.getElementById('clientForm').classList.add('hidden');
            document.getElementById('pharmacistForm').classList.add('hidden');
            selectedRole = null;
        }

        // Form submission handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Client form handler
            const clientForm = document.getElementById('clientRegistrationForm');
            if (clientForm) {
                clientForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await handleRegistration(e.target, 'client');
                });
            }

            // Pharmacist form handler
            const pharmacistForm = document.getElementById('pharmacistRegistrationForm');
            if (pharmacistForm) {
                pharmacistForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await handleRegistration(e.target, 'pharmacist');
                });
            }
        });

        async function handleRegistration(form, userType) {
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());
            
            // Validate passwords match
            if (data.password !== data.confirmPassword) {
                showMessage('Passwords do not match!', 'error');
                return;
            }
            
            // Additional validation for client
            if (userType === 'client') {
                if (!data.bloodGroup) {
                    showMessage('Please select your blood group', 'error');
                    return;
                }
            }
            
            // Additional validation for pharmacist
            if (userType === 'pharmacist') {
                if (!data.licenseNumber || !data.pharmacyName) {
                    showMessage('Please fill in all required pharmacy information', 'error');
                    return;
                }
            }
            
            try {
                showMessage('Creating your account...', 'info');
                
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Store user data (in real app, this would be sent to server)
                const userData = {
                    ...data,
                    userType,
                    registeredAt: new Date().toISOString()
                };
                
                localStorage.setItem('pendingUser', JSON.stringify(userData));
                localStorage.setItem('userType', userType);
                
                showMessage(`Registration successful! Welcome to Geopharm, ${data.firstName}!`, 'success');
                
                // Redirect based on user type
                setTimeout(() => {
                    if (userType === 'client') {
                        window.location.href = 'client-dashboard.html';
                    } else {
                        window.location.href = 'pharmacist-dashboard.html';
                    }
                }, 2000);
                
            } catch (error) {
                showMessage('Registration failed. Please try again.', 'error');
            }
        }

        function showMessage(message, type) {
            const container = document.getElementById('messageContainer');
            const messageDiv = document.createElement('div');
            
            const bgColor = type === 'success' ? 'bg-green-500' : 
                           type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            
            messageDiv.className = `${bgColor} text-white px-6 py-3 rounded-lg shadow-lg mb-4 transform transition-all duration-300`;
            messageDiv.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            container.appendChild(messageDiv);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                messageDiv.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (container.contains(messageDiv)) {
                        container.removeChild(messageDiv);
                    }
                }, 300);
            }, 5000);
        }
    </script>
</body>
</html>
